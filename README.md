# Thesis-2025
This repository contains the R code and related materials for the bachelor thesis "Explaining semantic priming effects using predictors derived from Large Language Models". The primary goal of this project is to investigate to what extent similarity scores generated by Large Language Models (OpenAI's gpt-4o-mini and text-embedding-3-small) can predict human semantic priming effects from the English subset of the SPAML dataset.

# Prerequisites
To run this code, you will need:
- [R](https://www.r-project.org/) (version 4.3.3 or later)
- [RStudio](https://www.rstudio.com/) (recommended)
- An active OpenAI API key with access to gpt-4o-mini and text-embedding-3-small.
- https://codeocean.com/capsule/5462895/tree/v2 for downloading en_SPAML.csv 

# Install R packages
Open R or RStudio and run the following command in the console to install the required packages:
install.packages(c("openai", "dplyr", "tidyr", "glue"))

# Set up the OpenAI API Key:
The script `scripts/API.R` requires your OpenAI API key. Open this file and replace the placeholder with your actual key:
    # In scripts/API.R
    Sys.setenv(
      OPENAI_API_KEY = 'YOUR_API_KEY_HERE' 
    )

# How to Run the Analysis
The entire analysis pipeline can be executed by running the master script.
1.  Open the `scripts/Master.R` file.
2.  Click the "Source" button in the top-right corner of the script editor or Command + Shift + Enter.

# Description of Scripts
1. Master.R: The main controller script. It sources the other scripts in the correct sequence to ensure a reproducible workflow.
2. CodeSPAML.R: Reads the raw data from en_SPAML.csv and en_words.csv, performs initial filtering and cleaning, and prepares the data for the next steps.
3. API.R: Makes calls to the OpenAI API to generate cosine similarity and prompt-based similarity scores for each word pair. It handles the two prompt types (association-based and feature-based) and runs each twice for reliability.
4. AssociationCorrelation.R: Validates the reliability of the LLM-derived scores by calculating the Pearson correlation between the cosine similarity and prompt-based similarity for only association-based scores.
5. FeatureasedCorrelation.R: Validates the reliability of the LLM-derived scores by calculating the Pearson correlation between the cosine similarity and prompt-based similarity for only feature-based scores.
6. Priming.R: Averages the results from the repeated API runs and calculates the final six predictor variables.
7. MRA.R: Performs the final statistical analyses: scatter plots, histograms, the main multiple regression model with six predictors, and the two separate regression models for the multicollinearity analysis.
